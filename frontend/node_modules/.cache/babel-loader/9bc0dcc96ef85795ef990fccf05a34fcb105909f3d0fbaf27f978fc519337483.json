{"ast":null,"code":"var _jsxFileName = \"D:\\\\SEMESTER ANTARA PAW\\\\toko-buket-bunga\\\\frontend\\\\src\\\\pages\\\\buyer\\\\OrderHistoryPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport './OrderHistoryPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrderHistoryPage = () => {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    const fetchOrderHistory = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const {\n          data\n        } = await axios.get(`${process.env.REACT_APP_API_URL}/api/orders/my-orders`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setOrders(data);\n      } catch (error) {\n        console.error(\"Gagal mengambil riwayat pesanan:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchOrderHistory();\n  }, []);\n  const formatPrice = price => {\n    return new Intl.NumberFormat('id-ID', {\n      style: 'currency',\n      currency: 'IDR'\n    }).format(price);\n  };\n  const getStatusDisplay = status => {\n    if (!status) return {\n      text: 'Pending',\n      className: 'status-pending'\n    };\n    switch (status.toLowerCase()) {\n      case 'selesai':\n        return {\n          text: 'Selesai',\n          className: 'status-completed'\n        };\n      case 'diproses':\n        return {\n          text: 'Diproses',\n          className: 'status-processing'\n        };\n      case 'dikirim':\n        return {\n          text: 'Dikirim',\n          className: 'status-shipped'\n        };\n      case 'dibatalkan':\n        return {\n          text: 'Dibatalkan',\n          className: 'status-cancelled'\n        };\n      case 'pending':\n      default:\n        return {\n          text: 'Pending',\n          className: 'status-pending'\n        };\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"order-history-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Riwayat Pesanan Saya\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Memuat data pesanan...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this) : orders.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Anda belum memiliki riwayat pesanan.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"orders-list\",\n      children: orders.map(order => {\n        const statusInfo = getStatusDisplay(order.status);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"order-id\",\n              children: [\"Pesanan #\", order.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"order-date\",\n              children: [\"Tanggal: \", new Date(order.created_at).toLocaleDateString('id-ID')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"order-total\",\n              children: formatPrice(order.total_pembayaran)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: `order-status ${statusInfo.className}`,\n              children: statusInfo.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: `/order/${order.id}`,\n              className: \"btn-details\",\n              children: \"Lihat Detail\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this)]\n        }, order.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(OrderHistoryPage, \"WpfbmeCogRdvFm3anyPVYEDd7i0=\");\n_c = OrderHistoryPage;\nexport default OrderHistoryPage;\nvar _c;\n$RefreshReg$(_c, \"OrderHistoryPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsxDEV","_jsxDEV","OrderHistoryPage","_s","orders","setOrders","isLoading","setIsLoading","fetchOrderHistory","token","localStorage","getItem","data","get","process","env","REACT_APP_API_URL","headers","Authorization","error","console","formatPrice","price","Intl","NumberFormat","style","currency","format","getStatusDisplay","status","text","className","toLowerCase","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","order","statusInfo","id","Date","created_at","toLocaleDateString","total_pembayaran","to","_c","$RefreshReg$"],"sources":["D:/SEMESTER ANTARA PAW/toko-buket-bunga/frontend/src/pages/buyer/OrderHistoryPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport './OrderHistoryPage.css';\r\n\r\nconst OrderHistoryPage = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchOrderHistory = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const { data } = await axios.get(`${process.env.REACT_APP_API_URL}/api/orders/my-orders`, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        });\r\n        setOrders(data);\r\n      } catch (error) {\r\n        console.error(\"Gagal mengambil riwayat pesanan:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchOrderHistory();\r\n  }, []);\r\n  \r\n  const formatPrice = (price) => {\r\n    return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(price);\r\n  };\r\n\r\n  const getStatusDisplay = (status) => {\r\n    if (!status) return { text: 'Pending', className: 'status-pending' };\r\n    \r\n    switch (status.toLowerCase()) {\r\n      case 'selesai': \r\n        return { text: 'Selesai', className: 'status-completed' };\r\n      case 'diproses': \r\n        return { text: 'Diproses', className: 'status-processing' };\r\n      case 'dikirim': \r\n        return { text: 'Dikirim', className: 'status-shipped' };\r\n      case 'dibatalkan': \r\n        return { text: 'Dibatalkan', className: 'status-cancelled' };\r\n      case 'pending':\r\n      default:\r\n        return { text: 'Pending', className: 'status-pending' };\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"order-history-container\">\r\n      <h1>Riwayat Pesanan Saya</h1>\r\n      {isLoading ? (\r\n        <p>Memuat data pesanan...</p>\r\n      ) : orders.length === 0 ? (\r\n        <p>Anda belum memiliki riwayat pesanan.</p>\r\n      ) : (\r\n        <div className=\"orders-list\">\r\n          {orders.map(order => {\r\n            const statusInfo = getStatusDisplay(order.status);\r\n            return (\r\n              <div key={order.id} className=\"order-card\">\r\n                <div className=\"order-details\">\r\n                  <span className=\"order-id\">Pesanan #{order.id}</span>\r\n                  <span className=\"order-date\">Tanggal: {new Date(order.created_at).toLocaleDateString('id-ID')}</span>\r\n                  <span className=\"order-total\">{formatPrice(order.total_pembayaran)}</span>\r\n                </div>\r\n                <div className=\"order-actions\">\r\n                  <span className={`order-status ${statusInfo.className}`}>{statusInfo.text}</span>\r\n                  <Link to={`/order/${order.id}`} className=\"btn-details\">\r\n                    Lihat Detail\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderHistoryPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}